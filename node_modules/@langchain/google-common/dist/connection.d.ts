import { BaseLanguageModelCallOptions } from "@langchain/core/language_models/base";
import { AsyncCaller, AsyncCallerCallOptions } from "@langchain/core/utils/async_caller";
import { StructuredToolParams } from "@langchain/core/tools";
import type { GoogleAIBaseLLMInput, GoogleConnectionParams, GoogleLLMModelFamily, GooglePlatformType, GoogleResponse, GoogleLLMResponse, GeminiContent, GeminiGenerationConfig, GeminiRequest, GeminiSafetySetting, GeminiTool, GeminiFunctionDeclaration, GoogleAIModelRequestParams, GoogleRawResponse } from "./types.js";
import { GoogleAbstractedClient, GoogleAbstractedClientOps, GoogleAbstractedClientOpsMethod } from "./auth.js";
export declare abstract class GoogleConnection<CallOptions extends AsyncCallerCallOptions, ResponseType extends GoogleResponse> {
    caller: AsyncCaller;
    client: GoogleAbstractedClient;
    streaming: boolean;
    constructor(caller: AsyncCaller, client: GoogleAbstractedClient, streaming?: boolean);
    abstract buildUrl(): Promise<string>;
    abstract buildMethod(): GoogleAbstractedClientOpsMethod;
    _clientInfoHeaders(): Promise<Record<string, string>>;
    _getClientInfo(): Promise<{
        userAgent: string;
        clientLibraryVersion: string;
    }>;
    _moduleName(): Promise<string>;
    additionalHeaders(): Promise<Record<string, string>>;
    _buildOpts(data: unknown | undefined, _options: CallOptions, requestHeaders?: Record<string, string>): Promise<GoogleAbstractedClientOps>;
    _request(data: unknown | undefined, options: CallOptions, requestHeaders?: Record<string, string>): Promise<ResponseType>;
}
export declare abstract class GoogleHostConnection<CallOptions extends AsyncCallerCallOptions, ResponseType extends GoogleResponse, AuthOptions> extends GoogleConnection<CallOptions, ResponseType> implements GoogleConnectionParams<AuthOptions> {
    platformType: GooglePlatformType | undefined;
    endpoint: string;
    location: string;
    apiVersion: string;
    constructor(fields: GoogleConnectionParams<AuthOptions> | undefined, caller: AsyncCaller, client: GoogleAbstractedClient, streaming?: boolean);
    get platform(): GooglePlatformType;
    get computedPlatformType(): GooglePlatformType;
    buildMethod(): GoogleAbstractedClientOpsMethod;
}
export declare abstract class GoogleRawConnection<CallOptions extends AsyncCallerCallOptions, AuthOptions> extends GoogleHostConnection<CallOptions, GoogleRawResponse, AuthOptions> {
    _buildOpts(data: unknown | undefined, _options: CallOptions, requestHeaders?: Record<string, string>): Promise<GoogleAbstractedClientOps>;
}
export declare abstract class GoogleAIConnection<CallOptions extends AsyncCallerCallOptions, InputType, AuthOptions, ResponseType extends GoogleResponse> extends GoogleHostConnection<CallOptions, ResponseType, AuthOptions> implements GoogleAIBaseLLMInput<AuthOptions> {
    model: string;
    modelName: string;
    client: GoogleAbstractedClient;
    api: any;
    constructor(fields: GoogleAIBaseLLMInput<AuthOptions> | undefined, caller: AsyncCaller, client: GoogleAbstractedClient, streaming?: boolean);
    get modelFamily(): GoogleLLMModelFamily;
    get computedPlatformType(): GooglePlatformType;
    abstract buildUrlMethod(): Promise<string>;
    buildUrlGenerativeLanguage(): Promise<string>;
    buildUrlVertex(): Promise<string>;
    buildUrl(): Promise<string>;
    abstract formatData(input: InputType, parameters: GoogleAIModelRequestParams): Promise<unknown>;
    request(input: InputType, parameters: GoogleAIModelRequestParams, options: CallOptions): Promise<GoogleResponse>;
}
export declare abstract class AbstractGoogleLLMConnection<MessageType, AuthOptions> extends GoogleAIConnection<BaseLanguageModelCallOptions, MessageType, AuthOptions, GoogleLLMResponse> {
    buildUrlMethodGemini(): Promise<string>;
    buildUrlMethod(): Promise<string>;
    abstract formatContents(input: MessageType, parameters: GoogleAIModelRequestParams): Promise<GeminiContent[]>;
    formatGenerationConfig(_input: MessageType, parameters: GoogleAIModelRequestParams): GeminiGenerationConfig;
    formatSafetySettings(_input: MessageType, parameters: GoogleAIModelRequestParams): GeminiSafetySetting[];
    formatSystemInstruction(_input: MessageType, _parameters: GoogleAIModelRequestParams): Promise<GeminiContent>;
    structuredToolToFunctionDeclaration(tool: StructuredToolParams): GeminiFunctionDeclaration;
    structuredToolsToGeminiTools(tools: StructuredToolParams[]): GeminiTool[];
    formatTools(_input: MessageType, parameters: GoogleAIModelRequestParams): GeminiTool[];
    formatToolConfig(parameters: GoogleAIModelRequestParams): GeminiRequest["toolConfig"] | undefined;
    formatData(input: MessageType, parameters: GoogleAIModelRequestParams): Promise<GeminiRequest>;
}
